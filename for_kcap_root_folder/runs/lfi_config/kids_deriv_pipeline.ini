[pipeline]
modules = sigma8toAs one_parameter_hmcode camb extrapolate_power load_nz_fits source_photoz_bias linear_alignment projection cl2xi bandpower_shear_e scale_cuts 2x2pt_like
values = $COSMOSIS_SRC_DIR/runs/lfi_config/kids_deriv_values.ini
priors = 
extra_output = cosmological_parameters/S_8 cosmological_parameters/sigma_8 cosmological_parameters/omega_m cosmological_parameters/omega_nu cosmological_parameters/omega_lambda cosmological_parameters/cosmomc_theta
quiet = F
timing = T
debug = F

[list]
save = $KIDS_DERIV_DIR/$KIDS_DERIV_ROOT_NAME
filename = $COSMOSIS_SRC_DIR/runs/lfi_config/kids_deriv_values_list.ini

[runtime]
sampler = list

[output]
filename = $COSMOSIS_SRC_DIR/runs/mocks/kids_1000_mock_derivatives/out.txt
format = text

[sigma8toAs]
file = $COSMOSIS_SRC_DIR/utils/sigma8toAs.py

[one_parameter_hmcode]
file = $COSMOSIS_SRC_DIR/utils/one_parameter_hmcode.py
a_0 = 0.98
a_1 = -0.12

[camb]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/boltzmann/pycamb/camb_interface.py
do_reionization = F
mode = transfer
nonlinear = pk
halofit_version = mead
neutrino_hierarchy = normal
kmax = 20.0
zmid = 2.0
nz_mid = 100
zmax = 6.0
nz = 150
background_zmax = 6.0
background_zmin = 0.0
background_nz = 6000

[extrapolate_power]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/boltzmann/extrapolate/extrapolate_power.py
kmax = 500.0

[load_nz_fits]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/number_density/load_nz_fits/load_nz_fits.py
nz_file = $COSMOSIS_SRC_DIR/runs/lfi_config/bp_KIDS1000_BlindC_with_m_bias_V1.0.0A_ugriZYJHKs_photoz_SG_mask_LF_svn_309c_2Dbins_v2_goldclasses_Flag_SOM_Fid.fits
data_sets = SOURCE LENS

[source_photoz_bias]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/number_density/photoz_bias/photoz_bias.py
mode = additive
sample = nz_SOURCE
bias_section = nofz_shifts
interpolation = cubic
output_deltaz = T
output_section_name = delta_z_out

[projection]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/structure/projection/project_2d.py
ell_min = 10.0
ell_max = 30000.0
n_ell = 400
shear-shear = SOURCE-SOURCE
verbose = F
get_kernel_peaks = F

[linear_alignment]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/intrinsic_alignments/la_model/linear_alignments_interface.py
method = bk_corrected

[cl2xi]
file = $COSMOSIS_SRC_DIR/cosmosis-standard-library/shear/cl_to_xi_nicaea/nicaea_interface.so
corr_type = 0

[bandpower_shear_e]
file = $COSMOSIS_SRC_DIR/cosebis/libbandpower.so
type = cosmic_shear_e
response_function_type = tophat
analytic = 1
output_section_name = bandpower_shear_e
l_min = 100.0
l_max = 1500.0
nbands = 8
apodise = 1
delta_x = 0.5
theta_min = 0.5
theta_max = 300.0
output_foldername = $COSMOSIS_SRC_DIR/cosebis/BandPower_outputs

[scale_cuts]
file = $COSMOSIS_SRC_DIR/modules/scale_cuts/scale_cuts.py
output_section_name = theory_data_covariance
data_and_covariance_fits_filename = $COSMOSIS_SRC_DIR/runs/lfi_config/bp_KIDS1000_BlindC_with_m_bias_V1.0.0A_ugriZYJHKs_photoz_SG_mask_LF_svn_309c_2Dbins_v2_goldclasses_Flag_SOM_Fid.fits
use_stats = PeeE
cut_pair_pnee = 1+1 2+1 2+2 2+3
keep_ang_peee = 100 1500
keep_ang_pnee = 100 1070
keep_ang_xip = 0.5 300
keep_ang_xim = 0.5 300
xi_plus_extension_name = xiP
xi_minus_extension_name = xiM
bandpower_ggl_extension_name = PneE
bandpower_e_cosmic_shear_extension_name = PeeE
cosebis_extension_name = En
xi_plus_section_name = shear_xi_plus_binned
xi_minus_section_name = shear_xi_minus_binned
bandpower_ggl_section_name = bandpower_galaxy_shear
bandpower_e_cosmic_shear_section_name = bandpower_shear_e
cosebis_section_name = cosebis
simulate = F
simulate_with_noise = T
mock_filename = 

[2x2pt_like]
file = $COSMOSIS_SRC_DIR/utils/mini_like.py
input_section_name = theory_data_covariance
like_name = 2x2pt_like

